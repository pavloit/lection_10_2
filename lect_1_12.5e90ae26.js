const e={form:document.querySelector(".js-search"),formContainer:document.querySelector(".js-form-container"),list:document.querySelector(".js-list"),addField:document.querySelector(".js-add"),removeField:document.querySelector(".js-remove")};document.querySelector(".js-add");e.addField.addEventListener("click",(function(){e.formContainer.insertAdjacentHTML("beforeend",'<input type="text" name="country" />')})),e.removeField.addEventListener("click",(function(){let{children:t,lastElementChild:n}=e.formContainer;if(1===t.length)return;n.remove()})),e.form.addEventListener("submit",(async function(t){t.preventDefault();const n=new FormData(t.currentTarget).getAll("country"),r=await async function(e){const t=e.map((async e=>{const t=await fetch(`https://restcountries.com/v3.1/name/${e}`);if(!t.ok)throw new Error(t.statusText);return t.json()}));return(await Promise.allSettled(t)).filter((({status:e})=>"fulfilled"===e)).map((({value:e})=>e[0].capital[0]))}(n),a=await async function(e){const t="61069fb8abf74210b7d232148231510",n="http://api.weatherapi.com/v1",r="/current.json",a=e.map((async e=>{const a=new URLSearchParams({key:t,q:e,lang:"uk"}),o=await fetch(`${n}${r}?${a}`);if(!o.ok)throw new Error(o.statusText);return o.json()}));return(await Promise.allSettled(a)).filter((({status:e})=>"fulfilled"===e)).map((({value:{location:{country:e,name:t},current:{temp_c:n,condition:{icon:r,text:a}}}})=>({country:e,name:t,temp_c:n,icon:r,text:a})))}(r);e.list.innerHTML=(o=a,o.map((({country:e,name:t,temp_c:n,icon:r,text:a})=>`\n            <li>\n                <img src='${r}' alt='${a}' />\n                <h2>${e}</h2>\n                <h2>${t}</h2>\n                <p>${a}</p>\n                <p class="temp">${n} ËšC</p>\n            </li>\n        `)).join(""));var o}));
//# sourceMappingURL=lect_1_12.5e90ae26.js.map
